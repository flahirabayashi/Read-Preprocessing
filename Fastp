#!/bin/bash

# Fastp para trimmagem de reads pareadas

# Arquivos de entrada (FASTQ brutos)
R1="arquivo_forward.fastq"
R2="arquivo_reverse.fastq"

# Arquivos de saída (reads tratadas e pareadas)
OUT_R1="trimmed_R1.fq.gz"
OUT_R2="trimmed_R2.fq.gz"
REPORT_HTML="trim_report.html"
REPORT_JSON="trim_report.json"

# Threads
THREADS=16

# Execução do fastp
echo "Rodando fastp para trimmagem dos arquivos $R1 e $R2..."

fastp \
  -i "$R1" \
  -I "$R2" \
  -o "$OUT_R1" \
  -O "$OUT_R2" \
  --detect_adapter_for_pe \
  --correction \
  --qualified_quality_phred 20 \
  --low_complexity_filter \
  -h "$REPORT_HTML" \
  -j "$REPORT_JSON" \
  -w "$THREADS"

echo "Trimmagem finalizada. Saídas: $OUT_R1 e $OUT_R2"
